<li class="px-4 py-4 sm:px-6" id="{{ link.id }}" role="listitem">
    <input type="hidden" name="id" value="{{ link.id }}">
    <div class="flex items-center justify-between">
        <div class="flex items-center">
            <span class="drag-handle cursor-move text-gray-400 select-none" aria-label="Drag to reorder" title="Drag to reorder">⋮⋮</span>
            <div class="flex-shrink-0">
                <div class="w-8 h-8 bg-gray-100 rounded-md flex items-center justify-center">
                    <svg class="w-4 h-4 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path>
                    </svg>
                </div>
            </div>
            <div class="ml-4">
                <div class="text-sm font-medium text-gray-900">{{ link.label }}</div>
                <div class="text-sm text-gray-500">{{ link.url }}</div>
            </div>
        </div>
            <div class="flex items-center space-x-4">
            <div class="text-sm text-gray-500">
                <span class="font-medium">{{ clicks }}</span> clicks
            </div>
            <div class="text-sm text-gray-500">
                Order: <span class="link-order">{{ link.sort_order }}</span>
            </div>
            <div class="flex space-x-2">
                <button type="button" class="text-indigo-600 hover:text-indigo-900 text-sm font-medium" hx-get="/api/links/{{ link.id }}/edit" hx-headers='{"X-View":"dashboard"}' hx-target="closest li" hx-swap="innerHTML" aria-label="Edit link {{ link.label }}">Edit <span class="htmx-indicator" aria-hidden="true">…</span></button>
                <label class="inline-flex items-center gap-1 text-sm">
                    <input type="checkbox" name="active"
                           {% if link.is_active %}checked{% endif %}
                           hx-put="/api/links/{{ link.id }}"
                           hx-headers='{"X-View":"dashboard"}'
                           hx-vals='{"is_active": true}'
                           hx-trigger="change"
                           hx-target="closest li"
                           hx-swap="outerHTML"
                           onchange="this.setAttribute('hx-vals', JSON.stringify({is_active: this.checked}))">
                    Visible
                </label>
                <button type="button" class="text-red-600 hover:text-red-900 text-sm font-medium" hx-delete="/api/links/{{ link.id }}" hx-target="closest li" hx-swap="outerHTML" hx-confirm="Are you sure you want to delete this link?" aria-label="Delete link {{ link.label }}">Delete <span class="htmx-indicator" aria-hidden="true">…</span></button>
            </div>
        </div>
    </div>
</li>

